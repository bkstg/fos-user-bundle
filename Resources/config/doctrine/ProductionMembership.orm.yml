Bkstg\FOSUserBundle\Entity\ProductionMembership:
    type: entity
    repositoryClass: Bkstg\FOSUserBundle\Repository\ProductionMembershipRepository

    id:
        id:
            type: integer
            id: true
            generator:
                strategy: AUTO

    fields:
        status:
            type: smallint
        roles:
            type: array
        expiry:
            type: datetime
            nullable: true
    oneToOne:
        profile:
            targetEntity: Bkstg\FOSUserBundle\Entity\Profile
            mappedBy: membership
    manyToOne:
        member:
            targetEntity: Bkstg\FOSUserBundle\Entity\User
            inversedBy: memberships
        group:
            targetEntity: Bkstg\CoreBundle\Entity\Production
    oneToMany:
        production_roles:
            targetEntity: Bkstg\FOSUserBundle\Entity\ProductionRole
            mappedBy: production_membership
            cascade: [persist, remove]

